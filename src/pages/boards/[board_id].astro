---
import KanbanView from "../../components/board/KanbanView";
import Layout from "../../layouts/Layout.astro";
import BoardService from "../../service/boardService";
import TaskService from "../../service/taskService";
const { board_id } = Astro.params;
const board = await BoardService.getBoard(board_id);
const tasks = board ? await TaskService.getTasksByBoardId(board_id) : [];
---

<Layout title="Kanban Board">
  <div class="block text-left w-full">
    <h1 class="w-8/12 text-3xl sm:text-4xl font-bold clip">
      {board.title}
      {
        !board?.title?.toLowerCase()?.includes("board") && (
          <span class="ml-2 text-gradient">board</span>
        )
      }
    </h1>
    <KanbanView board={board} tasks={tasks} client:visible />
  </div>
</Layout>

<style>
  .text-gradient {
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-image: linear-gradient(
      270deg,
      #74ffdcff,
      #61f1cdff,
      #4de2bfff,
      #3ad4b0ff,
      #27c5a1ff,
      #13b793ff,
      #00a884ff
    );
    background-size: 200%;
    background-position: 0%;
  }
</style>
